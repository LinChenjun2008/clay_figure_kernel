# 代码规范
* 此处的示例代码仅作为演示,非项目实际代码.
### 头文件
1. #define 保护
本项目中的所有头文件应使用`#define`防止重复包含,而不是`#pragma once`.格式为`__<FILE>_H__`.
* 假设存在名为`debug.h`的文件,则按如下方式保护:
```c
#ifndef __DEBUG_H__
#define __DEBUG_H__

...

#endif
```
2. 头文件的依赖
应尽量避免在头文件中使用`#include`,如果要在头文件中使用类型的声明,但不需要使用类型的定义,则应在头文件中使用前置声明.例如,在头文件`a.h`中需要使用`b.h`中定义的结构`base`,则在`a.h`文件中前置声明`struct base`即可,无需`#include <b.h>`.
在源文件中使用`#include`时,应尽量避免包含无用的头文件.

### 命名约定
1. 一般原则
名称应尽量清晰,不引起歧义.对于部分专有名词可保留原有的大小写,否则应按本规范命名.

好的命名应给出详细的名称,以便让代码易于理解:
```c
int number_of_tasks; // Good
int global_ticks;    // Good
```

应尽可能给出完整的名称而不是使用缩写,除非缩写的含义在项目外依旧清晰:

```c
// Good

int i; // Most people know the variable 'i' used for.
for (i = 0;i < 10;i++)
{
    ...
}

// Bad
int asdjkhas; // Nobody know what this stand for.
```
2. 文件命名
文件名称使用小写,可以包含数字和下划线`_`.源文件和头文件的名称应成对出现,例如`file.c`对应`file.h`.

3. 类型命名
类型名由小写字母和下划线组成,`struct`,`enum`,`union`类型名应分别以`_s`,`_e`,`_u`结尾,由`typedef`定义的类型以`_t`结尾:
```c
typedef int pid_t;

typedef struct base_s
{
    ...
} base_t;
```

4. 变量命名
变量名由小写字母和下划线组成,对于全局变量,可使用`g_`做为前缀.

5. 函数命名
函数名由小写字母和下划线组成.函数名应明确表示函数的功能.

6. 常量命名
常量名由大写字母和下划线组成.此处的`常量`指宏常量,枚举值等无法被改变的值,带有`const`的变量以变量命名为准.


7. 宏
宏名由大写字母和下划线组成.

8. 例外的情况:
* 在相关标准文档中有专有名称的,以对应标准中使用的名称命名.

### 代码注释
1. 注释风格
代码注释可使用`/* */`或`//`,以实际情况决定.

2. 函数注释
在函数声明处的注释应描述函数的功能,用法等,包含以下内容:
* 函数的功能.
* 函数的参数,以及参数的取值范围.
* 函数的返回值及其含义.
在函数定义处的注释应描述函数的实现细节

3. 变量注释
一般情况下,变量名已经很好的体现了变量的用途,因此无需添加注释.如果变量名无法体现变量的作用,请考虑重新命名.

### 格式
见 [.clang-format](../../.clang-format)
### 注意
1. 尽量不要使用非标准代码.
2. 避免滥用特定编译器的拓展功能.